# 프로젝트 구조와 설계 전반

한 화면에 담기는 컴포넌트들을 한 폴더에 담아서 관리할 수 있게끔 프로젝트를 진행했습니다. 재수거 예정 세탁물 화면을 컨트롤하는 메인 컴포넌트를 만든 후에, 이 컴포넌트에서 재사용성이 가장 높고 메인 컨텐츠가 되는 컴포넌트인 리콜 카드 컴포넌트를 만들었습니다. 리콜 카드 컴포넌트는 서버에서 들어온 데이터의 양에 따라서 많아지기도 하고, 줄어들기도 합니다. 메인 폴더에는 그렇게 Header, Main, RecallCard라는 세 가지 컴포넌트가 들어오게 됬습니다. 헤더는 다른 화면에서 비슷하게 사용할 일이 있을 때 간편하게 가져다 쓰기 위해서 만들었지만, 우선 현재 프로젝트에서는 메인 컴포넌트에서 단 한 번 사용되기 때문에 메인 폴더에 같이 넣어놨습니다.

CSS는 react-native에 내장되어 있는 StyleSheet을 사용했는데, 더 안정적인 느낌의 UI를 만들려고 하다보니 자연스럽게 길어졌습니다. 파일 전체가 너무 길게 느껴졌기 때문에, styles라는 보조 파일을 만들어서 한 폴더에 들어가는 모든 컴포넌트들의 CSS를 같이 관리할 수 있게 작성했습니다. 이 방식을 그대로 가져와서 타입을 정의했던 부분들도 똑같이 types라는 파일을 만들어서 한 번에 관리할 수 있게끔 만들었습니다. 사실 컴포넌트 각자 하나씩 파일을 만들어줄까라는 생각을 했는데 그렇게되면 오히려 구조가 지저분해 질 것 같아서 한 파일로 관리하는 방법을 사용하기로 했습니다.

리덕스는 서버와 비동기 작업만을 하는 용도로 사용하기로 했습니다. 따라서 리덕스만을 사용하는 것이 아닌 redux-thunk도 같이 사용해서 미들웨어를 이용해서 비동기 작업을 진행했습니다. 최초에 메인 컴포넌트가 렌더링이 될 때, 리덕스를 통해 서버에서 데이터를 받아온 후에 데이터의 양에 따라서 리콜카드 컴포넌트를 생성합니다. 이 후에 데이터를 hooks를 이용해서 프롭스로 넘겨줬습니다. useState는 단 한 번 사용되었는데, 리콜카드 컴포넌트에서 사진을 숨기거나 나타내는 경우에 스위치 역할이 필요했기에 현재 상태가 사진이 숨겨진 상태인지 나타난 상태인지를 확인하기 위해 사용했습니다.

이미지나 리콜카드를 클릭하면 화면을 바꿔주기 위해서 react-navigation을 사용했습니다. 화면의 변환과 동시에 필요한 데이터도 전달해야하기 때문에 option에 필요한 데이터를 같이 전달했습니다. 그리고 사용자가 이 버튼을 클릭한 것인지를 확실히 알 수 있게 TouchableOpacity 태그를 사용해서 클릭할 경우에 Opacity가 변하는 효과를 줬습니다.

# 사용한 라이브러리

npx를 통해서 만드는 방법은 부가적인 기능들이 너무 많아서 오히려 복잡하다는 생각이 들어서 최초 프로젝트 생성은 expo를 통해서 진행했습니다. 서버에서 데이터 통신이 오가는 것처럼 프로젝트를 진행해보고 싶었기에 json-server 라이브러리를 이용했습니다. 이 과정에서 axios도 동시에 사용하게 되었습니다. 이 후에 화면 전환을 위한 react-navigation과 관련된 패키지들을 설치했습니다. 그리고 아이콘도 사용하기 위해서 react-native-vector-icons 라이브러리도 사용했습니다. 마지막으로 상태 관리를 위한 redux와 비동기 작업을 처리하기 위한 redux-thunk도 사용했습니다.
